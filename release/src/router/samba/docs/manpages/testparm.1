.TH TESTPARM 1 "23 Jun 2001" "testparm 2.0.10"
.PP 
.SH "NAME" 
testparm \- check an smb\&.conf configuration file for internal correctness
.PP 
.SH "SYNOPSIS" 
.PP 
\fBtestparm\fP [-s] [-h] [-L servername] [configfilename] [hostname hostIP]
.PP 
.SH "DESCRIPTION" 
.PP 
This program is part of the \fBSamba\fP suite\&.
.PP 
\fBtestparm\fP is a very simple test program to check an
\fBsmbd\fP configuration file for internal
correctness\&. If this program reports no problems, you can use the
configuration file with confidence that \fBsmbd\fP
will successfully load the configuration file\&.
.PP 
Note that this is \fINOT\fP a guarantee that the services specified in the
configuration file will be available or will operate as expected\&.
.PP 
If the optional host name and host IP address are specified on the
command line, this test program will run through the service entries
reporting whether the specified host has access to each service\&.
.PP 
If \fBtestparm\fP finds an error in the \fBsmb\&.conf\fP
file it returns an exit code of 1 to the calling program, else it returns
an exit code of 0\&. This allows shell scripts to test the output from
\fBtestparm\fP\&.
.PP 
.SH "OPTIONS" 
.PP 
.IP 
.IP "\fB-s\fP" 
Without this option, \fBtestparm\fP will prompt for a
carriage return after printing the service names and before dumping
the service definitions\&.
.IP 
.IP "\fB-h\fP" 
Print usage message
.IP 
.IP "\fB-L servername\fP" 
Sets the value of the %L macro to servername\&. This
is useful for testing include files specified with the %L macro\&.
.IP 
.IP "\fBconfigfilename\fP" 
This is the name of the configuration file to
check\&. If this parameter is not present then the default
\fBsmb\&.conf\fP file will be checked\&.
.IP 
.IP "\fBhostname\fP" 
If this parameter and the following are specified,
then testparm will examine the \fB"hosts
allow"\fP and \fB"hosts
deny"\fP parameters in the
\fBsmb\&.conf\fP file to determine if the hostname
with this IP address would be allowed access to the
\fBsmbd\fP server\&. If this parameter is supplied, the
hostIP parameter must also be supplied\&.
.IP 
.IP "\fBhostIP\fP" 
This is the IP address of the host specified in the
previous parameter\&. This address must be supplied if the hostname
parameter is supplied\&.
.IP 
.PP 
.SH "FILES" 
.PP 
\fBsmb\&.conf\fP\&. This is usually the name of the
configuration file used by \fBsmbd\fP\&.
.PP 
.SH "DIAGNOSTICS" 
.PP 
The program will issue a message saying whether the configuration file
loaded OK or not\&. This message may be preceded by errors and warnings
if the file did not load\&. If the file was loaded OK, the program then
dumps all known service details to stdout\&.
.PP 
.SH "VERSION" 
.PP 
This man page is correct for version 2\&.0 of the Samba suite\&.
.PP 
.SH "SEE ALSO" 
.PP 
\fBsmb\&.conf (5)\fP, \fBsmbd (8)\fP
.PP 
.SH "AUTHOR" 
.PP 
The original Samba software and related utilities were created by
Andrew Tridgell samba@samba\&.org\&. Samba is now developed
by the Samba Team as an Open Source project similar to the way the
Linux kernel is developed\&.
.PP 
The original Samba man pages were written by Karl Auer\&. The man page
sources were converted to YODL format (another excellent piece of Open
Source software, available at
\fBftp://ftp\&.icce\&.rug\&.nl/pub/unix/\fP)
and updated for the Samba2\&.0 release by Jeremy Allison\&.
samba@samba\&.org\&.
.PP 
See \fBsamba (7)\fP to find out how to get a full
list of contributors and details on how to submit bug reports,
comments etc\&.
