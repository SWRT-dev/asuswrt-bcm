<!DOCTYPE html><html lang=en><meta charset=utf-8><title>Broadcom Smart</title><meta content="width=device-width,initial-scale=1"name=viewport><meta content="Ziliang Han"name=author><link href=img/icon.png rel="shortcut icon"><link href=css/bootstrap-simplex.css rel=stylesheet id=bs-css><link href=css/smart.css rel=stylesheet><link href=css/noty_theme_default.css rel=stylesheet><link href=css/animate.min.css rel=stylesheet><script src=bower_components/jquery/jquery.js></script><script src=bower_components/bootstrap/dist/js/bootstrap.js></script><script src=bower_components/chosen/chosen.jquery.js></script><script src=js/jquery.dataTables.min.js></script><script src=js/jquery.cookie.js></script><script src=js/jquery.history.js></script><script src=brcm_js/smart.js></script><script src=brcm_js/utils.js></script><script src=brcm_js/protocol.js></script><script src=brcm_js/websocket.js></script><script src=brcm_js/targets.js></script><script src=brcm_js/dbus.js></script><style>.oi_title{width:80px;display:inline-block;font-weight:700;font-size:20px;text-align:right;vertical-align:middle}.oi_content{width:240px;display:inline-block;font-size:18px;text-align:left;padding-left:8px;vertical-align:middle}.parent_type{font-size:16px;font-weight:700;color:#000}.child_type{font-size:16px;font-weight:700;color:#000}.data_type{color:#7cfc00}</style><script>var dbus_cservice,dbus_cpath,dbus_ciface,dbus_cprop,dbus_cmethod,dbus_csignal,dbus_citem,ROOT,dbus_output_param,frags="";function methodCallback(e,t,c){var s=DBusGetCfmBody().children().children().children().children().children().children().children().children(),r=dbus_output_param.split("%");0==e&&(DBus.parseMethodCallOutputProps(c,r,s)||(t=c)),t&&parent.showModal(t)}function runMethodApply(){var e=DBusGetCfmBody().children().children().children().children().children().children().children().children(),t=DBus.composeMethodCallProps(dbus_cservice,dbus_cpath,dbus_ciface,dbus_cmethod,e),c=t[0],s=t[1],r=t[2];1==c&&(dbus_output_param=r,Protocol.sendPacket(TARGET_DBUS,CMD_DBUS_METHOD,s.length,SPT_PROTOCOL_PLDTYPE_TXT,s,methodCallback))}function runMethod(e,t,c,s,r){dbus_cservice=e,dbus_cpath=t,dbus_ciface=c,dbus_cmethod=s;var a=DBus.runMethodPrepare(s,r);DBusShowCfmModal("Run Method Confirm",void 0!=a?a:"<h4>Press 'Confirm' to execute:</h4>",runMethodApply)}function propGetCallback(e,t,c){if(0==e){var s=new RegExp("\\/","g"),r="propval_"+dbus_cpath+"_"+dbus_ciface+"_"+dbus_cprop;r=r.replace(s,"_").replace(/\./g,"-"),document.getElementById(r).textContent=": "+c}else parent.showModal(t)}function sendDbusGetPropCmd(e,t,c,s,r){var a=DBus.compGetPropInfo(c,s,r),d=DBus.getProperty(e,t,c,a);dbus_cpath=t,dbus_ciface=c,dbus_cprop=s,$("#function").html("<h5> Get(String interface_name,String property_name) <span class='glyphicon glyphicon-arrow-right' aria-hidden='true'></span> (Variant value)</h5>"),$("#input").html("<h5>[INTERFACE_NAME] "+c+"</h5><h5>[PROPERTY_NAME] "+s+"</h5>"),Protocol.sendPacket(TARGET_DBUS,CMD_DBUS_PROGET,d.length,SPT_PROTOCOL_PLDTYPE_TXT,d,propGetCallback)}function clickService(e,t,c){var s=e.parent().parent().next();dbus_cservice=t,dbus_cpath=c,0==s.hasClass("in")&&"false"==e.attr("data-cmpl")&&(dbus_citem=s.children(),dbusNodeIntrospect(t,c),e.attr("data-cmpl","true"))}function clickNode(e,t){var c=e.parent().parent().next();dbus_cservice=t,0==c.hasClass("in")&&"false"==e.attr("data-cmpl")&&(dbus_citem=c.children(),dbus_cpath=e.text(),dbusNodeIntrospect(dbus_cservice,dbus_cpath),e.attr("data-cmpl","true"))}function introspectCallback(e,t,c){if(0==e){var s=(new DOMParser).parseFromString(c,"text/xml");dbus_citem.empty();for(var r=s.childNodes[s.childNodes.length-1],a=1;a<r.childNodes.length;a++){var d="",n=r.childNodes[a];"node"==n.nodeName?d=DBus.createNode(dbus_cservice,dbus_cpath,n.getAttribute("name"),"clickNode"):"interface"==n.nodeName&&(d=DBus.createInterface(dbus_cservice,dbus_cpath,n,"runMethod","sendDbusGetPropCmd")),dbus_citem.append(d)}}else parent.showModal(t)}function listServicesCallback(e,t,c){if(0==e){var s,r=JSON.parse(c),a="";dbus_citem.empty();for(s in r.services){var d=r.services[s].name,n=r.services[s].path;a=DBus.createService(d,n,"clickService"),dbus_citem.append(a)}}else parent.showModal(t)}function dbusNodeIntrospect(e,t){var c=DBus.instrospect(e,t);Protocol.sendPacket(TARGET_DBUS,CMD_DBUS_INTROSPECT,c.length,SPT_PROTOCOL_PLDTYPE_TXT,c,introspectCallback)}function dbusListServices(){Protocol.sendPacket(TARGET_DBUS,CMD_DBUS_LIST,0,SPT_PROTOCOL_PLDTYPE_TXT,null,listServicesCallback)}function onclickRefresh(){new RegExp("\\/","g");$(".root-panel").attr("id","node_"),dbus_citem=$("#node_"),parent.setIframeHeight(520),dbusListServices()}function DBusShowCfmModal(e,t,c){$("#cfmHeader").html("<h3>"+e+"</h3>"),$("#cfmBody").html("<span>"+t+"</span>"),$("#DBusMethodCallcfmModal").modal("show")}function DBusGetCfmBody(){return $("#DBusMethodCallcfmModal")}$(document).ready(function(){onclickRefresh()})</script><div class=ch-container><div class=row><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"id=content style=min-width:500px><div class=box><div class=box-inner><div class="box-header well"><h2 id=boxTitle>DBus</h2><div class=box-icon><a class="btn btn-success"href=# onclick=onclickRefresh() style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"><i class="glyphicon glyphicon-refresh"style=vertical-align:middle;top:0></i>  Refresh</a></div></div><div class="box-content row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class=tab-content id=resContent><div class=box-content><div class="panel-group root-panel"></div></div></div></div></div></div></div></div></div><div class="fade modal"id=methodModal aria-hidden=true aria-labelledby=methodModalLabel data-backdrop=static role=dialog tabindex=-1><div class=modal-dialog><div class=modal-content><div class=modal-header><h3>Run Method Confirm</h3></div><div class=modal-body id=methodMsgBody></div><div class=modal-footer><a class="btn btn-success btn-modal-left"href=# data-dismiss=modal>Cancel</a> <a class="btn btn-modal-right btn-primary"href=# onclick=runMethodApply()>Confirm</a></div></div></div></div><div class="fade modal"id=DBusMethodCallcfmModal aria-hidden=true aria-labelledby=DBusMethodCallcfmModalLabel data-backdrop=static role=dialog tabindex=-1 style=z-index:1050><div class=modal-dialog><div class=modal-content><div class=modal-header><h3 id=cfmHeader></h3></div><div class=modal-body id=cfmBody></div><div class=modal-footer><a class="btn btn-success btn-modal-left"href=# data-dismiss=modal>Cancel</a> <a class="btn btn-modal-right btn-primary"href=# onclick=runMethodApply()>Confirm</a></div></div></div></div></div>