<!doctypehtml><html lang=en><meta charset=utf-8><title>Broadcom Broadband Commander</title><meta content="width=device-width,initial-scale=1"name=viewport><meta content="ZiLiang Han"name=author><link href=img/icon.png rel="shortcut icon"><link href=css/bootstrap-simplex.css rel=stylesheet id=bs-css><link href=css/smart.css rel=stylesheet><link href=css/noty_theme_default.css rel=stylesheet><link href=css/animate.min.css rel=stylesheet><link href=bower_components/bootstrap/dist/css/bootstrap-slider.min.css rel=stylesheet><script src=bower_components/jquery/jquery.js></script><script src=bower_components/bootstrap/dist/js/bootstrap.js></script><script src=bower_components/bootstrap/dist/js/bootstrap-slider.min.js></script><script src=bower_components/chosen/chosen.jquery.js></script><script src=bower_components/moment/moment.min.js></script><script src=js/jquery.dataTables.min.js></script><script src=js/jquery.cookie.js></script><script src=js/jquery.history.js></script><script src=js/Chart.js></script><script src=js/chroma.js></script><script src=js/StackBlur.js></script><script src=brcm_js/smart.js></script><script src=brcm_js/protocol.js></script><script src=brcm_js/websocket.js></script><script src=brcm_js/utils.js></script><script src=brcm_js/targets.js></script><style>.btn-basic{background:#bdbdbd;color:#fff}#idPerDataSlider.slider-selection{background:#cacaca}#scan_ani{position:relative;overflow:hidden;width:40px;height:40px;background:#068 url(img/scan_background.png);background-size:40px 40px;border-radius:50%}#scan_fg{position:absolute;width:40px;height:40px;background:url(img/scan_foreground.png);background-size:40px 40px}</style><script>var $scan_fg,beep_CurEE,display_type,spectrogramCanvas,spectrogramCxt,spXlabelCanvas,spXlabelCxt,perXlabelCanvas,perXlabelCxt,perYlabelCanvas,perYlabelCxt,perCanvas,perCxt,eqCanvas,eqCxt,eqXlabelCanvas,eqXlabelCxt,eqYlabelCanvas,eqYlabelCxt,eqDataList,AIRIA_MAX_BAND=4,active_tab=0,airiq_bandIndex=0,airiq_Scanning=!1,scan_mode=1,lastchQualityData=void 0,eu_offline=!1,spectrumMode=1,specModeChanged=!1,degree=0,AllBtns=["idBtnCUStart","idBtnCUStop","idBtnSpStart","idBtnSpStop","idBtnPerStart","idBtnPerStop","idBtnEqStart","idBtnEqStop"],xlabel_type=0,WIDTH_CANVAS=1024,HEIGHT_CANVAS=512,specCanvasArray=[],specCxtArray=[],fft_persistence=[],PERSISTENCE_RATIO=4,per_depth=50*PERSISTENCE_RATIO,perDataFreqArray=[],eqPDepth=5,MAXVALUE_HEATMAP=128,MAXVALUE_HEATMAP_PER=32,interfererList=[];window.chartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 75)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"};var label_ch_2p4g=["1","2","3","4","5","6","7","8","9","10","11","12","13","14"],label_ch_5gl=["36","40","44","48","52","56","60","64"],label_ch_5gm=["100","104","108","112","116","120","124","128","132"],label_ch_5gu=["136","140","149","153","157","161","165"],index_ch_2p4g=[1,2,3,4,5,6,7,8,9,10,11,12,13,14],index_ch_5gl=[36,40,44,48,52,56,60,64],index_ch_5gm=[100,104,108,112,116,120,124,128,132],index_ch_5gu=[136,140,149,153,157,161,165],cfg_ChQuality={type:"bar",data:{labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14"],datasets:[{label:"",backgroundColor:window.chartColors.blue,borderColor:window.chartColors.blue,data:[],fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:"Channel Quality"},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Channels"}}],yAxes:[{display:!0,ticks:{beginAtZero:!0,max:100},scaleLabel:{display:!0,labelString:""}}]}}},cfg_nonWlanChQuality={type:"bar",data:{labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14"],datasets:[{label:"total",backgroundColor:window.chartColors.green,borderColor:window.chartColors.green,data:[],fill:!1},{label:"int1",backgroundColor:window.chartColors.purple,borderColor:window.chartColors.purple,data:[],fill:!1},{label:"int2",backgroundColor:window.chartColors.yellow,borderColor:window.chartColors.yellow,data:[],fill:!1},{label:"int3",backgroundColor:window.chartColors.orange,borderColor:window.chartColors.orange,data:[],fill:!1},{label:"int4",backgroundColor:window.chartColors.red,borderColor:window.chartColors.red,data:[],fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:"Non-WLAN Channel Utilization"},tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Channels"}}],yAxes:[{display:!0,ticks:{beginAtZero:!0,max:100},scaleLabel:{display:!0,labelString:""}}]}}},spectroScale=new chroma.ColorScale({colors:["#000015","#0000A7","#002BFF","#0081FF","#00D0FF","#2EFFD1","#81FF7E","#D5FF2A","#FFD700","#FF8500","#FF3300","#E30000","#930000"],positions:[0,.083,.167,.25,.333,.417,.5,.583,.667,.75,.833,.917],mode:"rgb",limits:[0,MAXVALUE_HEATMAP]}),persistenceScale=new chroma.ColorScale({colors:["#000015","#0000A7","#002BFF","#0081FF","#00D0FF","#2EFFD1","#81FF7E","#D5FF2A","#FFD700","#FF8500","#FF3300","#C30000","#830000"],positions:[0,.083,.167,.25,.333,.417,.5,.583,.667,.75,.833,.917],mode:"rgb",limits:[0,MAXVALUE_HEATMAP_PER]}),bandCfg2p4g={startFreq:2402,endFreq:2494,freqRes:312.5,chTable:["","","1","2","3","4","5","6","7","8","9","10","11","12","13","","14",""],freqTable:["2402","2407","2412","2417","2422","2427","2432","2437","2442","2447","2452","2457","2462","2467","2472","2477","2484","2492"]},bandCfg5lg={startFreq:5170,endFreq:5330,freqRes:312.5,chTable:["","36","","40","","44","","48","","52","","56","","60","","64",""],freqTable:["5170","5180","5190","5200","5210","5220","5230","5240","5250","5260","5270","5280","5290","5300","5310","5320","5330"]},bandCfg5mg={startFreq:5490,endFreq:5710,freqRes:312.5,chTable:["","100","","104","","108","","112","","116","","120","","124","","128","","132","","136","","140",""],freqTable:["5490","5500","","5520","","5540","","5560","","5580","","5600","","5620","","5640","","5660","","5680","","5700","5710"]},bandCfg5ug={startFreq:5730,endFreq:5860,freqRes:312.5,chTable:["","","","149","","","","153","","","","157","","","","161","","","","165","","","","169","","",""],freqTable:["5730","","5740","","5750","","5760","","5770","","5780","","5790","","5800","","5810","","5820","","5830","","5840","","5850","","5860"]},bandCfg=[bandCfg2p4g,bandCfg5lg,bandCfg5mg,bandCfg5ug],yLabel=["  0"," -10"," -20"," -30"," -40"," -50"," -60"," -70"," -80"," -90","-100","-110","-120"],bColors=["#181400","#302500","#403500","#504000","#605000","#706000","#908000","#C0A000","#D0B000","#E0C000"],yColors=["#002030","#003040","#004050","#005060","#006070","#007080","#008090","#0090A0","#00B0C0","#00E0F0"];function Node(e){this.data=e,this.previous=null,this.next=null}function DList(){this.head=null,this.tail=null,this.entries=0}function createArray(e){var a=new Array(e||0),t=e;if(1<arguments.length)for(var r=Array.prototype.slice.call(arguments,1);t--;)a[e-1-t]=createArray.apply(this,r);return a}function initPowerFreqTable(e,a,t){for(var r=0;r<a;r++){e.push([0]);for(var i=0;i<t;i++)e[r][i]=0}}function rotate(){$scan_fg.css({transform:"rotate("+degree+"deg)"}),airiq_Scanning&&setTimeout(function(){++degree,rotate()},25)}DList.prototype.addtoTail=function(e){var a=new Node(e);this.head?(a.previous=this.tail,this.tail.next=a):this.head=a,this.tail=a,this.entries++},DList.prototype.removeFromHead=function(){var e;return this.head?(e=this.head,this.head=e.next,this.entries--,e):null},DList.prototype.getHead=function(){return this.head},DList.prototype.getByIndex=function(e){if(e>=this.entries)return null;for(var a=this.head,t=0;t<e&&a;)a=a.next,t++;return a},DList.prototype.empty=function(){this.head=null,this.tail=null,this.entries=0},DList.prototype.length=function(){return this.entries},DList.prototype.print=function(){for(var e="->",a=this.head;a;)e+=a.data+" ",a=a.next;parent.showModal(e.trim())};var airiq_perTimer={id:null,handler:persistenceViewUpdate,timeout:4e3};function persliderChange(e){per_depth=e*PERSISTENCE_RATIO,eqPDepth=Math.ceil(e/10)}function airiq_enableAllBtns(e){var a;if(e.constructor===Array)for(var t=0;t<e.length;t++)(a=document.getElementById(e[t]))&&Utils.replaceClass(a,"btn-basic","btn-success")}function airiq_disableAllBtns(e){var a;if(e.constructor===Array)for(var t=0;t<e.length;t++)(a=document.getElementById(e[t]))&&Utils.replaceClass(a,"btn-success","btn-basic")}function cqGraph_switchLabels(e){var a;0==e?a=label_ch_2p4g:1==e?a=label_ch_5gl:2==e?a=label_ch_5gm:3==e&&(a=label_ch_5gu),cfg_ChQuality.data.labels=a,cfg_nonWlanChQuality.data.labels=a,null==lastchQualityData?(window.chQualityGraph.update(),window.nonWlanChQualityGraph.update()):parsing_channelQuality(lastchQualityData)}function getInterfererName(e){return 2==e||4==e?"Microwave Oven":8==e?"Analog Cordless Phone":16==e?"Bluetooth Device":32==e?"DSSS Phone":64==e?"Radar":128==e?"Wiereless Video Camera":256==e?"FHSS Phone":512==e?"Baby Monitor":1024==e||32768==e?"Video Monitor":2048==e?"Game Controller":4096==e?"Possible Interferer":8192==e||65536==e?"RF Jammer":16384==e?"Motion Detector":8192==e?"RF Jammer":131072==e?"Zigbee":262144==e?"Mouse":2097152==e?"WLAN FH":4194304==e?"Canopy":8388608==e?"Wireless Bridge":"Unknown"}function updateInterfererList(e){var a,t,r,i,n,l=interfererList.length;for(a in interfererList){n=interfererList[a];var s=moment().format("DD/MM/YYYY HH:mm:ss");2e4<moment(s,"DD/MM/YYYY HH:mm:ss").diff(moment(n.update,"DD/MM/YYYY HH:mm:ss"))&&(n.stopped=!0)}for(a in e){for(r=!1,i=e[a],t=0;t<l;t++)if(n=interfererList[t],i.intid==n.id&&!n.stopped){n.update=moment().format("DD/MM/YYYY HH:mm:ss"),r=!0;break}if(!r){var o=new Object;o.start=moment().format("DD/MM/YYYY HH:mm:ss"),o.type=i.inttype,o.id=i.intid,o.util=i.chutil,o.rssi=i.rssidm,o.freq=i.freqKhz,o.cnt=i.impkchcnt,o.chs=i.impkchs,o.update=o.start,o.stopped=!1,interfererList.push(o)}}}function parsing_channelQuality(e){var a,t,r=e.interference,i=e.chutils.chutil;for(var n in lastchQualityData=e,0==airiq_bandIndex?a=index_ch_2p4g:1==airiq_bandIndex?a=index_ch_5gl:2==airiq_bandIndex?a=index_ch_5gm:3==airiq_bandIndex&&(a=index_ch_5gu),cfg_ChQuality.data.datasets[0].data=[],cfg_nonWlanChQuality.data.datasets[0].data=[],cfg_nonWlanChQuality.data.datasets[1].data=[],cfg_nonWlanChQuality.data.datasets[2].data=[],cfg_nonWlanChQuality.data.datasets[3].data=[],cfg_nonWlanChQuality.data.datasets[4].data=[],a){var l=a[n];for(j in i){var s=1;if(l==(c=i[j]).number){for(var o in cfg_ChQuality.data.datasets[0].data[n]=100-c.totalutil,c.intchutil)0!=c.intchutil[o].chutil&&(cfg_nonWlanChQuality.data.datasets[s].data[n]=c.intchutil[o].chutil,s++);0!=c.nwlanutil&&(cfg_nonWlanChQuality.data.datasets[0].data[n]=c.nwlanutil);break}}}window.chQualityGraph.update(),window.nonWlanChQualityGraph.update();var d=document.getElementById("table_Interferences");for(t=d.getElementsByTagName("tr").length-1;0<t;t--)d.deleteRow(t);for(var n in updateInterfererList(r),t=1,interfererList){var c=interfererList[n],p=d.insertRow(t);p.insertCell(0).innerHTML=getInterfererName(c.type),p.insertCell(1).innerHTML=c.rssi,p.insertCell(2).innerHTML=c.chs,p.insertCell(3).innerHTML=c.start;var _=p.insertCell(4);1==c.stopped?_.innerHTML=c.update:_.innerHTML="",t++}}function switch_canvas(e,a){var t;2==a&&(t=specCanvasArray[2*e+spectrumMode],specCxtArray[2*e+spectrumMode],spectrogramCxt.drawImage(t,0,0,t.width,t.height))}function updatePowerFreq(e,a,t,r,i){for(var n=0;n<t;n++){var l=a[r+2*n+1];if(0!=l&&(l=256-l),!(128<=l||l<0)){var s=e[l],o=s[n];1==i?o+=1:0!=o&&(o-=1),s[n]=o}}}function persistenceViewUpdate(){for(var e,a=0;a<4;a++)if(e=perDataFreqArray[a])for(var t,r=MAXVALUE_HEATMAP_PER,i=Math.round(new Date/1e3),n=fft_persistence[a];null!=(t=n.getHead())&&0<r;){var l=t.data,s=l[4]|l[5]<<8|l[6]<<16|l[7]<<24;if(!(per_depth<i-s))break;t=n.removeFromHead(),updatePowerFreq(e.table,t.data,e.col,e.offset,0),r--}if(e=perDataFreqArray[airiq_bandIndex]){for(var o,d=e.col,c=0,p=0;p<perCanvas.height;p+=2)for(var _=Math.floor(120*p/perCanvas.height),h=0;h<perCanvas.width;h++){var b=Math.floor(h*d/perCanvas.width);o=e.table[_][b],0!=(o=MAXVALUE_HEATMAP_PER<o?MAXVALUE_HEATMAP_PER:o)&&(o=Math.floor((o+c)/2)),perCxt.fillStyle=persistenceScale.getColor(o).hex(),perCxt.fillRect(h,p,1,2),c=o}perCxt.drawImage(perCanvas,0,0,perCanvas.width,perCanvas.height),stackBlurCanvasRGB("wlanPersistence",0,0,perCanvas.width,perCanvas.height,1)}}function getColorByIndex(e,a,t,r){var i=e+t-a;if(i==e-1)return r-1;if(0==i)return 0;var n=(r-2)/(e-2);return Math.ceil(i*n)}function parsing_fftData(e){var a,t,r,i,n,l,s=e[0],o=e[1],d=0;for(t=0==s?(a=e[8]+(e[9]<<8)+(e[10]<<16)+(e[11]<<24),e[20]+(e[21]<<8)+(e[22]<<16)+(e[23]<<24)):(a=e[11]+(e[10]<<8)+(e[9]<<16)+(e[8]<<24),e[23]+(e[22]<<8)+(e[21]<<16)+(e[20]<<24));t!=1<<d;)d++;if(2==display_type){for(var c=0;c<2;c++){n=specCanvasArray[2*d+c],(l=specCxtArray[2*d+c]).drawImage(n,0,0,n.width,n.height,0,1,n.width,n.height);for(var p=0;p<n.width;p++)a<=(h=p*a/n.width)&&(h=a-1),128<=(r=e[(h=2*Math.floor(h)+o)+c])?i=r-128:0==r&&(i=MAXVALUE_HEATMAP),l.fillStyle=spectroScale.getColor(i).hex(),l.fillRect(p,0,1,1)}if(t!=1<<airiq_bandIndex)return;n=specCanvasArray[2*d+spectrumMode],specModeChanged&&(specModeChanged=!1,spectrogramCxt.clearRect(0,0,spectrogramCanvas.width,spectrogramCanvas.height)),spectrogramCxt.drawImage(n,0,0,n.width,n.height)}else if(3==display_type){for(var _=Math.round(new Date/1e3),h=0;h<4;h++){var b=255&_;e[4+h]=b,_>>=8}var C=fft_persistence[d],u=perDataFreqArray[d];if(!u){(u=new Object).rol=128,u.col=a,u.offset=o;var f=[];initPowerFreqTable(f,128,a),u.table=f,perDataFreqArray[d]=u}C.addtoTail(e),updatePowerFreq(u.table,e,a,o,1)}else if(4==display_type){if(d!=airiq_bandIndex)return;if(1<eqPDepth||eqDataList.length()>=eqPDepth)for(;eqDataList.length()>=eqPDepth;)eqDataList.removeFromHead();var g;eqDataList.addtoTail(e);var q=yColors.length;eqCxt.clearRect(0,0,eqCanvas.width,eqCanvas.height);var y=Math.floor(eqCanvas.height/120),v=eqCanvas.width/a;for(p=0;p<eqDataList.length();p++){var m=eqDataList.getByIndex(p).data;g=1==eqPDepth?q-1:2==eqPDepth?0<p?q-1:0:getColorByIndex(eqPDepth,eqDataList.length(),p,q),eqCxt.beginPath(),eqCxt.strokeStyle=bColors[g],eqCxt.moveTo(0,eqCanvas.height);for(var x=0;x<a;x++){0!=(A=m[h=o+2*x+1])&&(A=256-A),eqCxt.lineTo(Math.floor(x*v),A*y),eqCxt.stroke()}eqCxt.beginPath(),eqCxt.strokeStyle=yColors[g],eqCxt.moveTo(0,eqCanvas.height);for(x=0;x<a;x++){var A;0!=(A=m[h=o+2*x])&&(A=256-A),eqCxt.lineTo(Math.floor(x*v),A*y),eqCxt.stroke()}}}}function callback_scan_stop(e,a,t){0==e?airiq_Scanning=!1:parent.showModal(a)}function airiq_scan_stop(){airiq_disableEESel(!1),Protocol.sendPacket(TARGET_AIRIQ,CMD_AIRIQ_STOP_SCAN,0,SPT_PROTOCOL_PLDTYPE_TXT,null,callback_scan_stop)}function callback_scan_start(e,a,t){0==e&&1==scan_mode?(airiq_Scanning=!0,rotate()):parent.showModal(a)}function airiq_scan_start(e){if(!$("#idBtnCUStart").hasClass("btn-basic")){var a='{"mode": '+scan_mode+', "band": '+airiq_bandIndex+', "iface":"wl0", "type": '+(display_type=e)+"}";Protocol.sendPacket(TARGET_AIRIQ,CMD_AIRIQ_START_SCAN,a.length,SPT_PROTOCOL_PLDTYPE_TXT,a,callback_scan_start),3==display_type&&null==airiq_perTimer.id&&(airiq_perTimer.id=setInterval(airiq_perTimer.handler,airiq_perTimer.timeout)),airiq_disableEESel(!0)}}function airiq_prereqchk_callback(e,a,t){0!=e?parent.showModal(a):(parent.showModal("AirIQ: prerequisite check passed"),airiq_enableAllBtns(AllBtns)),airiq_disableEESel(!1)}function airiq_notify_handler(e,a,t){if(0==a)try{var r=JSON.parse(t),i=r.type;2==i?parsing_channelQuality(r):0==i?3!=r.online?(eu_offline=!0,parent.showModal("EU exits. please click precheck button once again")):eu_offline=!1:parent.showModal("Not supported data type")}catch(e){parsing_fftData(t)}else parent.showModal(t)}function airiq_tabSwitch(e){active_tab!=e&&(airiq_Scanning&&airiq_scan_stop(),2==active_tab&&(airiq_perTimer.id||(clearInterval(airiq_perTimer.id),airiq_perTimer.id=null)),active_tab=e)}function airiq_prereq_check(){var e='{"beepEE":'+beep_CurEE+"}";Protocol.registerTasklet(TARGET_AIRIQ,CMD_AIRIQ_PREREQ_CHK,e.length,SPT_PROTOCOL_PLDTYPE_TXT,e,airiq_prereqchk_callback,airiq_notify_handler),airiq_disableEESel(!0)}function airiq_apply_xlable(e,a,t,r){var i,n,l,s,o,d;r.clearRect(0,0,t.width,t.height),l=(i=bandCfg[e]).chTable,s=i.freqTable,n=0==a?l:s,count=n.length,o=t.height+"px",r.font=o;for(var c=0;c<count;c++)0==a&&""==l[c]||1==a&&""==s[c]||(d=0==a&&3==e?Math.floor((parseInt(s[c-1])+5-i.startFreq)*WIDTH_CANVAS/(i.endFreq-i.startFreq)):Math.floor((parseInt(s[c])-i.startFreq)*WIDTH_CANVAS/(i.endFreq-i.startFreq)),WIDTH_CANVAS<=d&&(d-=20),r.fillText(n[c],d,t.height-2))}function airiq_apply_ylable(e,a,t){a.font="20px";for(var r,i=t.length,n=e.width-20,l=Math.floor(e.height/(i-1)),s=0;s<i;s++)r=s*l,a.fillText(t[s],n,r)}function airiq_eq_init(){$("#idEqualizer").slider({formatter:function(e){return"persistence: "+e}}),eqCanvas=document.getElementById("wlanEqualizer"),eqCxt=eqCanvas.getContext("2d"),eqXlabelCanvas=document.getElementById("eqXlabel"),eqXlabelCxt=eqXlabelCanvas.getContext("2d"),airiq_apply_xlable(airiq_bandIndex,xlabel_type,eqXlabelCanvas,eqXlabelCxt),eqYlabelCanvas=document.getElementById("eqYlabel"),eqYlabelCxt=eqYlabelCanvas.getContext("2d"),airiq_apply_ylable(eqYlabelCanvas,eqYlabelCxt,yLabel),eqDataList=new DList}function airiq_per_init(){$("#idPersistence").slider({formatter:function(e){return"persistence: "+e}}),perCanvas=document.getElementById("wlanPersistence"),perCxt=perCanvas.getContext("2d"),perXlabelCanvas=document.getElementById("perXlabel"),perXlabelCxt=perXlabelCanvas.getContext("2d"),perYlabelCanvas=document.getElementById("perYlabel"),perYlabelCxt=perYlabelCanvas.getContext("2d"),airiq_apply_ylable(perYlabelCanvas,perYlabelCxt,yLabel);for(var e=0;e<AIRIA_MAX_BAND;e++){var a=new DList;fft_persistence.push(a)}airiq_apply_xlable(airiq_bandIndex,xlabel_type,perXlabelCanvas,perXlabelCxt)}function airiq_spec_init(){for(var e,a,t=0;t<2*AIRIA_MAX_BAND;t++)(e=document.createElement("canvas")).width=WIDTH_CANVAS,e.height=HEIGHT_CANVAS,a=e.getContext("2d"),specCanvasArray.push(e),specCxtArray.push(a);spXlabelCanvas=document.getElementById("spectroXlabel"),spXlabelCxt=spXlabelCanvas.getContext("2d"),spectrogramCanvas=document.getElementById("wlanSpectrogram"),spectrogramCxt=spectrogramCanvas.getContext("2d"),airiq_apply_xlable(airiq_bandIndex,xlabel_type,spXlabelCanvas,spXlabelCxt),$("#id_peak").change(function(){spectrumMode=this.checked?0:1,specModeChanged=!0})}function airiq_chutil_init(){var e=document.getElementById("wlanChannelQuality").getContext("2d");window.chQualityGraph=new Chart(e,cfg_ChQuality);var a=document.getElementById("non_WlanChannelQuality").getContext("2d");window.nonWlanChQualityGraph=new Chart(a,cfg_nonWlanChQuality)}function airiq_init(){$("select").on("change",function(){var e=$(this).find(":selected").index();($(".do-something").addClass("triggered"),"id_cuBand"==jQuery(this).attr("id")||"id_specBand"==jQuery(this).attr("id")||"id_perBand"==jQuery(this).attr("id")||"id_eqBand"==jQuery(this).attr("id"))?(airiq_bandIndex=e,document.getElementById("id_cuBand").selectedIndex=e,document.getElementById("id_specBand").selectedIndex=e,document.getElementById("id_perBand").selectedIndex=e,0==active_tab?cqGraph_switchLabels(airiq_bandIndex):1==active_tab?(airiq_apply_xlable(airiq_bandIndex,xlabel_type,spXlabelCanvas,spXlabelCxt),switch_canvas(airiq_bandIndex,display_type)):2==active_tab?(airiq_apply_xlable(airiq_bandIndex,xlabel_type,perXlabelCanvas,perXlabelCxt),persistenceViewUpdate()):3==active_tab&&(airiq_apply_xlable(airiq_bandIndex,xlabel_type,eqXlabelCanvas,eqXlabelCxt),eqDataList.empty())):"id_speclabelType"!=jQuery(this).attr("id")&&"id_perlabelType"!=jQuery(this).attr("id")&&"id_eqlabelType"!=jQuery(this).attr("id")||(xlabel_type=e,1==active_tab?airiq_apply_xlable(airiq_bandIndex,xlabel_type,spXlabelCanvas,spXlabelCxt):2==active_tab?airiq_apply_xlable(airiq_bandIndex,xlabel_type,perXlabelCanvas,perXlabelCxt):3==active_tab&&airiq_apply_xlable(airiq_bandIndex,xlabel_type,eqXlabelCanvas,eqXlabelCxt))}),$("#ChannelQuality").on("click",function(){airiq_tabSwitch(0)}),$("#Spectrogram").on("click",function(){airiq_tabSwitch(1)}),$("#Persistence").on("click",function(){airiq_tabSwitch(2)}),$("#Equalizer").on("click",function(){airiq_tabSwitch(3)}),$scan_fg=$("#scan_fg")}function airiq_disableEESel(e){document.getElementById("idAirIQEESel").disabled=!!e}function airiq_selectEE(){beep_CurEE=document.getElementById("idAirIQEESel").value;var e=localStorage.getItem("aqRepo_curEE");beep_CurEE!=e&&localStorage.setItem("aqRepo_curEE",beep_CurEE),airiq_disableAllBtns(AllBtns)}$(document).ready(function(){$(window).bind("beforeunload",function(){Protocol.sendPacket(TARGET_AIRIQ,CMD_AIRIQ_REG_SHUTDOWN,0,SPT_PROTOCOL_PLDTYPE_TXT,null,null)}),$("#idAirIQEESel").val("1"),beep_CurEE=1,null!=(beep_CurEE=localStorage.getItem("aqRepo_curEE"))&&"null"!=beep_CurEE&&""!=beep_CurEE?$("#idAirIQEESel").val(beep_CurEE):(beep_CurEE=1,$("#idAirIQEESel").val("1")),airiq_init(),airiq_chutil_init(),airiq_spec_init(),airiq_per_init(),airiq_eq_init(),airiq_disableAllBtns(AllBtns)})</script><div class=ch-container><div class=row><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"id=content style=min-width:200px><div class=box><div class=box-inner><div class="box-header well"><h4> Air-IQ Display</h4></div></div><div class="row box-content"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><ul class="nav nav-tabs"id=AirIQ><li class=active><a href=#tab_ChannelQuality id=ChannelQuality data-toggle=tab><span style=font-size:120%;color:#000>Channel Quality</span></a><li><a href=#tab_Spectrogram id=Spectrogram data-toggle=tab><span style=font-size:120%;color:#000>Spectrogram</span></a><li><a href=#tab_Persistence id=Persistence data-toggle=tab><span style=font-size:120%;color:#000>Persistence</span></a><li><a href=#tab_Equalizer id=Equalizer data-toggle=tab><span style=font-size:120%;color:#000>Equalizer</span></a></li><div id=scan_ani><div id=scan_fg></div></div></ul><div class=tab-content id=resContent><div class="tab-pane fade active in"id=tab_ChannelQuality><br><div class="row box-content"><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 box-icon"><a href=# id=idBtnCUStop class="btn btn-success"onclick=airiq_scan_stop() style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"><i class="glyphicon glyphicon-stop"style=vertical-align:middle;top:0></i>  Stop</a></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 box-icon"><a href=# id=idBtnCUStart class="btn btn-success"onclick=airiq_scan_start(1) style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"><i class="glyphicon glyphicon-refresh"style=vertical-align:middle;top:0></i>  Start</a></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 box-icon"><div><select id=id_cuBand style=height:25px;min-width:80px name=Band><option value=2.4GHz>2.4GHz<option value=5GHz0>5GHz(Lower)<option value=5GHz1>5GHz(Mid)<option value=5GHz2>5GHz(Upper)</select></div></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 box-icon"><a href=# class="btn btn-success"onclick=airiq_prereq_check() style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"><i class="glyphicon glyphicon-check"style=vertical-align:middle;top:0></i>  Check</a></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><span style=font-size:120%;color:#000>Select EE:</span></div><div class="col-md-1 col-sm-1 col-xs-1col-lg-1"><select id=idAirIQEESel style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"onchange=airiq_selectEE()><option value=0>HostEE<option value=1>BEE<option value=2>Docker<option value=3>OpenWRT<option value=4>OSGi<option value=5>ExampleEE<option value=6>ExampleEE2<option value=7>ExampleEE3</select></div></div><br><div class="row box-content"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><canvas id=wlanChannelQuality style=display:block;min-width:640px;min-height:80px class=chartjs-render-monitor></canvas></div><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><canvas id=non_WlanChannelQuality style=display:block;min-width:640px;min-height:80px class=chartjs-render-monitor></canvas></div></div><div class="row box-content"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><table class="table table-hover"id=table_Interferences><tr><th>Interferer<th>Strength<th>Channels<th>Start Time<th>Stop Time</table></div></div></div><div class=tab-pane id=tab_Spectrogram><br><div class=container><div class="row justify-content-start"><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><a href=# id=idBtnSpStart class="btn btn-success absolute position:"onclick=airiq_scan_start(2) style="padding:2px 0;margin-top:0;height:25px;min-width:80px"><i class="glyphicon glyphicon-refresh order-first"style=vertical-align:middle;top:0></i>  Start</a></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><a href=# id=idBtnSpStop class="btn btn-success"onclick=airiq_scan_stop() style="padding:2px 0;margin-top:0;height:25px;min-width:80px"><i class="glyphicon glyphicon-stop"style=vertical-align:middle;top:0></i>  Stop</a></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><div><select id=id_specBand style=height:25px;min-width:80px name=Band><option value=2.4GHz>2.4GHz<option value=5GHz0>5GHz(Lower)<option value=5GHz1>5GHz(Mid)<option value=5GHz2>5GHz(Upper)</select></div></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><div><select id=id_speclabelType style=height:25px;min-width:80px name=Type><option value=channel>channel<option value=frequency>frequency</select></div></div><div class=form-check><input id=id_peak class=form-check-input type=checkbox> <label class=form-check-label for=id_peak>Using Peak</label></div></div></div><div class="row box-content"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><canvas id=spectroXlabel height=24 width=1040 style=z-index:-1></canvas></div><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><canvas id=wlanSpectrogram height=512 width=1024 style=display:block;background-color:#000;z-index:-1></canvas></div></div><div class="row box-content"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div style=text-align:left><p>-128dBm <img align=center src=img/heat_map.png>  0dBm</div></div></div></div><div class="tab-pane fade"id=tab_Persistence><br><div class=container><div class="row justify-content-start"><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><a href=# id=idBtnPerStart class="btn btn-success absolute position:"onclick=airiq_scan_start(3) style="padding:2px 0;margin-top:0;height:25px;min-width:80px"><i class="glyphicon glyphicon-refresh order-first"style=vertical-align:middle;top:0></i>  Start</a></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><a href=# id=idBtnPerStop class="btn btn-success"onclick=airiq_scan_stop() style="padding:2px 0;margin-top:0;height:25px;min-width:80px"><i class="glyphicon glyphicon-stop"style=vertical-align:middle;top:0></i>  Stop</a></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><div><select id=id_perBand style=height:25px;min-width:80px name=Band><option value=2.4GHz>2.4GHz<option value=5GHz0>5GHz(Lower)<option value=5GHz1>5GHz(Mid)<option value=5GHz2>5GHz(Upper)</select></div></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><div><select id=id_perlabelType style=height:25px;min-width:80px name=Type><option value=channel>channel<option value=frequency>frequency</select></div></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><div><input id=idPersistence data-slider-id=idPerDataSlider data-slider-max=100 data-slider-min=1 data-slider-step=2 data-slider-value=50 onchange=persliderChange(this.value)></div></div></div></div><br><div class="row box-content"><div class="col-md-1 col-sm-1 col-lg-1 col-xs-1"><canvas id=perYlabel height=480 width=60></canvas></div><div class="col-lg-11 col-md-11 col-sm-11 col-xs-11"><canvas id=wlanPersistence height=480 width=1024 style=display:block;background-color:#000;z-index:-1></canvas><canvas id=perXlabel height=24 width=1040 style=z-index:-1></canvas><p>Transient <img align=center src=img/heat_map.png>  Persistent</div></div></div><div class="tab-pane fade"id=tab_Equalizer><br><div class=container><div class="row justify-content-start"><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><a href=# id=idBtnEqStart class="btn btn-success absolute position:"onclick=airiq_scan_start(4) style="padding:2px 0;margin-top:0;height:25px;min-width:80px"><i class="glyphicon glyphicon-refresh order-first"style=vertical-align:middle;top:0></i>  Start</a></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><a href=# id=idBtnEqStop class="btn btn-success"onclick=airiq_scan_stop() style="padding:2px 0;margin-top:0;height:25px;min-width:80px"><i class="glyphicon glyphicon-stop"style=vertical-align:middle;top:0></i>  Stop</a></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><div><select id=id_eqBand style=height:25px;min-width:80px name=Band><option value=2.4GHz>2.4GHz<option value=5GHz0>5GHz(Lower)<option value=5GHz1>5GHz(Mid)<option value=5GHz2>5GHz(Upper)</select></div></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><div><select id=id_eqlabelType style=height:25px;min-width:80px name=Type><option value=channel>channel<option value=frequency>frequency</select></div></div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-2"><div><input id=idEqualizer data-slider-id=idEqDataSlider data-slider-max=100 data-slider-min=1 data-slider-step=1 data-slider-value=50 onchange=persliderChange(this.value)></div></div></div></div><br><div class="row box-content"><div class="col-md-1 col-sm-1 col-lg-1 col-xs-1"><canvas id=eqYlabel height=480 width=60></canvas></div><div class="col-lg-11 col-md-11 col-sm-11 col-xs-11"><canvas id=wlanEqualizer height=480 width=1024 style=display:block;background-color:#000;z-index:-1></canvas><canvas id=eqXlabel height=24 width=1040 style=z-index:-1></canvas><p>Instantaneous <img align=center src=img/peak_inst.png>  Peak-Hold</div></div></div></div></div></div></div></div></div></div>
