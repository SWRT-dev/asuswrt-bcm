<!doctypehtml><html lang=en><meta charset=utf-8><title>Broadcom Broadband Commander</title><meta content="width=device-width,initial-scale=1"name=viewport><meta content="ZiLiang Han"name=author><link href=img/icon.png rel="shortcut icon"><link href=css/bootstrap-simplex.css rel=stylesheet id=bs-css><link href=css/smart.css rel=stylesheet><link href=css/noty_theme_default.css rel=stylesheet><link href=css/animate.min.css rel=stylesheet><script src=bower_components/jquery/jquery.js></script><script src=bower_components/bootstrap/dist/js/bootstrap.js></script><script src=bower_components/chosen/chosen.jquery.js></script><script src=js/jquery.dataTables.min.js></script><script src=js/jquery.cookie.js></script><script src=js/jquery.history.js></script><script src=brcm_js/smart.js></script><script src=brcm_js/protocol.js></script><script src=brcm_js/websocket.js></script><script src=brcm_js/utils.js></script><script src=brcm_js/targets.js></script><script src=brcm_js/dbus.js></script><style>.nav{color:#fff!important}.tooltip.top .tooltip-inner{max-width:720px;background-color:#eee;color:#000;text-align:left;padding:3px 8px;border-radius:4px}</style><script>var beebEU_Service,beepEU_cservice,beepEU_cpath,beepEU_citem,beepEU_ciface,beepEU_cmethod,beepEU_output_param,beepEU_cprop,beep_CurEE,ID_EU_PREFIX="node_beepEU",TAB_DU=0,TAB_EU=1,TAB_AVLDU=2,beep_cTab=TAB_DU,remoteTaskOngoing=!1,TASKONING_MSG="bbc is trying to get package list from server of repository. It will take long time if server is inaccessible. Please wait...";function beepEU_methodCallback(e,t,l){var n=getEUMethodCallCfmModal().children().children().children().children().children().children().children().children(),a=beepEU_output_param.split("%");0==e?DBus.parseMethodCallOutputProps(l,a,n):parent.showModal(t)}function beepEU_runMethodApply(){var e=getEUMethodCallCfmModal().children().children().children().children().children().children().children().children(),t=DBus.composeMethodCallProps(beepEU_cservice,beepEU_cpath,beepEU_ciface,beepEU_cmethod,e),l=t[0],n=t[1],a=t[2];1==l&&(beepEU_output_param=a,Protocol.sendPacket(TARGET_DBUS,CMD_DBUS_METHOD,n.length,SPT_PROTOCOL_PLDTYPE_TXT,n,beepEU_methodCallback))}function beepEU_runMethod(e,t,l,n,a){beepEU_cservice=e,beepEU_cpath=t,beepEU_ciface=l,beepEU_cmethod=n;var o=DBus.runMethodPrepare(n,a);showEUMethodCallCfmModal("Run Method Confirm",null!=o?o:"<h4>Press 'Confirm' to execute:</h4>",beepEU_runMethodApply)}function beep_getBtnStatus(e){var t;if(null!=e){var l="eu_button-"+e.split("::")[1];t=document.getElementById(l).innerText}return t}function beep_EUOperCallback(e,t,l){0!=e&&parent.showModal(t)}function click_BeepEUBtn(e,t,l,n){if(remoteTaskOngoing)parent.showModal(TASKONING_MSG);else{var a='{"id":"'+e+'","name":"'+t+'","version":"'+l+'","beepEE":'+beep_CurEE+"}",o="Start"==n?CMD_BEEP_EU_START:CMD_BEEP_EU_STOP;Protocol.sendPacket(TARGET_BEEP,o,a.length,SPT_PROTOCOL_PLDTYPE_TXT,a,beep_EUOperCallback)}}function beep_listEUCallback(e,t,l){if(0!=e)parent.showModal(t);else{new RegExp("\\/","g");var n,a=JSON.parse(l),o=document.getElementById("table_BeepEUInstalled");for(n=o.getElementsByTagName("tr").length-1;0<n;n--)o.deleteRow(n);for(i in n=1,a.BeepEUs){var r=a.BeepEUs[i],c=o.insertRow(n),s=r.desc+"\n";null==r.path?s+="No service":s+="Service\n  Name: "+r.service+"\n  Path: "+r.path;var p=c.insertCell(0),_="Active"==r.status?"Stop":"Start",d="<button type='button' "+("Active"==r.status?"class='btn btn-danger'":"class='btn btn-success'")+"id='eu_button-"+r.name+"' onclick=click_BeepEUBtn(\""+r.euid+'","'+r.name+'","'+r.version+'","'+_+"\") style='width:50px;padding:2px 0px;vertical-align:middle; text-align:center;margin-top:0px;height:25px'>"+_+"</button>";p.innerHTML=d;var E=c.insertCell(1),b=r.path;E.innerHTML="<h5 style='font-size:110%;color:black'><a href='#' service='"+r.service+"' path='"+b+"' onclick=click_beepEU('"+r.service+"','"+b+'\') data-toggle="tooltip" title="'+s+'"><span style="color:black">'+r.name+"</a></h5>",c.insertCell(2).innerHTML="<h5 style='font-size:110%;color:black'>"+r.version+"</h5>",n+=1}}}function beep_DURemoveCallback(e,t,l){0!=e&&parent.showModal(t)}function beep_AvlDUListCallback(e,t,l){if(remoteTaskOngoing=!1,0!=e)parent.showModal(t);else{var n,a=JSON.parse(l),o=document.getElementById("table_BeepDUAvailable");for(n=o.getElementsByTagName("tr").length-1;0<n;n--)o.deleteRow(n);for(i in n=1,a.BeepAvlDUs){var r,c=a.BeepAvlDUs[i],s=o.insertRow(n),p=s.insertCell(0);r=0==c.state?"<button type='button' class='btn btn-info' id='du_button-"+c.name+"' onclick=click_BeepDUInstallBtn(\""+c.file+'","'+c.name+'","'+c.version+"\",1) style='width:56px;padding:2px 0px;vertical-align:middle; text-align:center;margin-top:0px;height:25px'>Install</button>":1==c.state?"<button type='button' class='btn btn-basic' id='du_button-"+c.name+"' onclick=click_BeepDUInstallBtn(\""+c.file+'","'+c.name+'","'+c.version+"\",0) style='width:56px;padding:2px 0px;vertical-align:middle; text-align:center;margin-top:0px;height:25px'>Install</button>":"<button type='button' class='btn btn-info' id='du_button-"+c.name+"' onclick=click_BeepDUInstallBtn(\""+c.file+'","'+c.name+'","'+c.version+"\",2) style='width:56px;padding:2px 0px;vertical-align:middle; text-align:center;margin-top:0px;height:25px'>Update</button>",p.innerHTML=r,s.insertCell(1).innerHTML="<h5 style='font-size:110%;color:black'>"+c.name+"</h5>",s.insertCell(2).innerHTML="<h4 style='font-size:110%;color:black'>"+c.version+"</h5>";var _="<h4 style='font-size:110%;color:black'>"+c.desc+"<br>";_+="Vendor: "+c.vendor+"<br>",_+="File: "+c.file+"</h4>",s.insertCell(3).innerHTML="<a data-toggle='tooltip' data-html='true' class='tooltipLink btn-success' data-original-title=\""+_+"\"><span class='glyphicon glyphicon-zoom-in'></span> Detail</a>",$("a.tooltipLink").tooltip(),n+=1}}}function beep_listDUCallback(e,t,l){if(0!=e)parent.showModal(t);else{new RegExp("\\:","g");var n,a=JSON.parse(l),o=document.getElementById("table_BeepDUInstalled"),r=o.getElementsByTagName("tr");if(null==a)return;for(n=r.length-1;0<n;n--)o.deleteRow(n);for(i in n=1,a.BeepDUs){var c=a.BeepDUs[i],s=o.insertRow(n),p=s.insertCell(0),_="<button type='button' class='btn btn-danger' id='du_button-"+c.name+"' onclick=click_beepDURemove(\""+c.name+'","'+c.duid+'","'+c.uuid+'","'+c.version+"\") style='width:56px;padding:2px 0px;vertical-align:middle; text-align:center;margin-top:0px;height:25px'>Uninstall</button>";p.innerHTML=_,s.insertCell(1).innerHTML="<h5 style='font-size:110%;color:black'>"+c.name+"</h5>",s.insertCell(2).innerHTML="<h5 style='font-size:110%;color:black'>"+c.version+"</h5>";var d=c.desc+"<br>Vendor: "+c.vendor+"<br>Status: "+c.status;s.insertCell(3).innerHTML="<a data-toggle='tooltip' data-html='true' class='tooltipLink btn-success' data-original-title=\""+d+"\"><span class='glyphicon glyphicon-zoom-in'></span> Detail</a>",$("a.tooltipLink").tooltip(),n+=1}}}function beep_DUInstallCallback(e,t,l){0!=e&&parent.showModal(t)}function sendDbusGetPropCmd(e,t,l,n,a){var o='{"srv":"'+e+'","iface":"'+l+'","path":"'+t+'","cmd":"get","props":"'+("in-s-interface_name-"+l+"%in-s-property_name-"+n+"%out-"+a)+'"}';beepEU_cpath=t,beepEU_ciface=l,beepEU_cprop=n,$("#function").html("<h5> Get(String interface_name,String property_name) <span class='glyphicon glyphicon-arrow-right' aria-hidden='true'></span> (Variant value)</h5>"),$("#input").html("<h5>[INTERFACE_NAME] "+l+"</h5><h5>[PROPERTY_NAME] "+n+"</h5>"),Protocol.sendPacket(TARGET_DBUS,CMD_DBUS_PROGET,o.length,SPT_PROTOCOL_PLDTYPE_TXT,o,propGetCallback)}function clickNode(e,t){}function beepEU_introspectCallback(e,t,l){if(0==e){var n=(new DOMParser).parseFromString(l,"text/xml");beepEU_citem.empty();for(var a=n.childNodes[n.childNodes.length-1],o=1;o<a.childNodes.length;o++){var r="",i=a.childNodes[o];"node"==i.nodeName?r=DBus.createNode(beepEU_cservice,beepEU_cpath,i.getAttribute("name"),"clickNode"):"interface"==i.nodeName&&(r=DBus.createInterface(beepEU_cservice,beepEU_cpath,i,"beepEU_runMethod","sendDbusGetPropCmd")),beepEU_citem.append(r)}}else parent.showModal(t)}function beepEU_serviceIntrospect(e,t){var l=DBus.instrospect(e,t);Protocol.sendPacket(TARGET_DBUS,CMD_DBUS_INTROSPECT,l.length,SPT_PROTOCOL_PLDTYPE_TXT,l,beepEU_introspectCallback)}function click_beepEUService(e,t,l){var n=e.parent().parent().next();"undefined"!=l&&(beepEU_cservice=t,beepEU_cpath=l,0==n.hasClass("in")&&"false"==e.attr("data-cmpl")&&(beepEU_citem=n.children(),beepEU_serviceIntrospect(t,l),e.attr("data-cmpl","true")))}function click_BeepDUInstallBtn(e,t,l,n){if(0!=n)if(remoteTaskOngoing)parent.showModal(TASKONING_MSG);else{var a='{"url":"'+(document.getElementById("beeDU_serverIP").value+"/"+e)+'","user":"'+document.getElementById("beeDU_userName").value+'","passwd":"'+document.getElementById("beeDU_password").value+'", "beepEE": '+beep_CurEE+', "pkgname": "'+t+'", "version": "'+l+'", "mode": '+n+"}";Protocol.sendPacket(TARGET_BEEP,CMD_BEEP_DU_INSTALL,a.length,SPT_PROTOCOL_PLDTYPE_TXT,a,beep_DUInstallCallback)}}function click_beepEU(e,t){var l=new RegExp("\\/","g"),n=ID_EU_PREFIX+t.replace(l,"_"),a="<div class='panel panel-default'><div class='panel-heading'><h4 class='panel-title'><span class='parent_type'></span><a data-toggle='collapse' service='#"+e+"' href='#"+n+"' data-cmpl='false' onclick='click_beepEUService($(this),\""+e+'","'+t+"\",\"\")' style='font-size:110%;color:black'>"+e+"</a></h4></div><div id='"+n+"' class='panel-collapse collapse'><div class='panel-body' id='"+n+"_body'></div></div></div>";beebEU_Service.empty(),beebEU_Service.append(a)}function click_beepDURemove(e,t,l,n){if(remoteTaskOngoing)parent.showModal(TASKONING_MSG);else{var a='{"duid":"'+t+'","uuid":"'+l+'","beepEE":'+beep_CurEE+',"version":"'+n+'","name":"'+e+'"}';Protocol.sendPacket(TARGET_BEEP,CMD_BEEP_DU_REMOVE,a.length,SPT_PROTOCOL_PLDTYPE_TXT,a,beep_DURemoveCallback)}}function updateServerSetup(e,t,l){e!=localStorage.getItem("repo_serverIP")&&localStorage.setItem("repo_serverIP",e),t!=localStorage.getItem("repo_serverUser")&&localStorage.setItem("repo_serverUser",t),l!=localStorage.getItem("repo_serverPw")&&localStorage.setItem("repo_serverPw",l)}function beep_AvlPkgRefresh(e){if(remoteTaskOngoing)parent.showModal(TASKONING_MSG);else{var t=document.getElementById("beeDU_serverIP").value,l=document.getElementById("beeDU_userName").value,n=document.getElementById("beeDU_password").value;if(updateServerSetup(t,l,n),1!=e||parent.isIPValid(t)){var a='{"server":"'+t+'","name":"'+l+'","passwd":"'+n+'","beepEE":'+beep_CurEE+',"mode":'+e+"}";Protocol.sendPacket(TARGET_BEEP,CMD_BEEP_DU_AVLLIST,a.length,SPT_PROTOCOL_PLDTYPE_TXT,a,beep_AvlDUListCallback),1==e&&(remoteTaskOngoing=!0)}else parent.showModal("Invalid or empty server URL")}}function beep_InstalledDURefresh(){if(remoteTaskOngoing)parent.showModal(TASKONING_MSG);else{var e='{"beepEE":'+beep_CurEE+"}";Protocol.sendPacket(TARGET_BEEP,CMD_BEEP_DU_LIST,e.length,SPT_PROTOCOL_PLDTYPE_TXT,e,beep_listDUCallback)}}function beep_InstalledEURefresh(){if(remoteTaskOngoing)parent.showModal(TASKONING_MSG);else{var e='{"beepEE":'+beep_CurEE+"}";Protocol.sendPacket(TARGET_BEEP,CMD_BEEP_EU_LIST,e.length,SPT_PROTOCOL_PLDTYPE_TXT,e,beep_listEUCallback)}}function beepDUEU_handler(){beep_cTab==TAB_DU?beep_InstalledDURefresh():beep_cTab==TAB_AVLDU?beep_AvlPkgRefresh(0):beep_cTab==TAB_EU&&beep_InstalledEURefresh()}function beep_selectEE(){beep_CurEE=document.getElementById("idBeepEESelected").value;var e=localStorage.getItem("beepRepo_curEE");beep_CurEE!=e&&localStorage.setItem("beepRepo_curEE",beep_CurEE),beep_InstalledDURefresh()}function getEUMethodCallCfmModal(){return $("#EUMethodCallcfmModal")}function showEUMethodCallCfmModal(e,t,l){$("#cfmHeader").html("<h3>"+e+"</h3>"),$("#cfmBody").html("<span>"+t+"</span>"),$("#EUMethodCallcfmModal").modal("show")}$(document).ready(function(){Protocol.registerTasklet(TARGET_BEEP,CMD_BEEP_INIT,0,SPT_PROTOCOL_PLDTYPE_TXT,null,null,beepDUEU_handler),$(window).bind("beforeunload",function(){Protocol.sendPacket(TARGET_BEEP,CMD_BEEP_UNINIT,0,SPT_PROTOCOL_PLDTYPE_TXT,null,null)}),beebEU_Service=$("#"+ID_EU_PREFIX),null!=(beep_CurEE=localStorage.getItem("beepRepo_curEE"))&&"null"!=beep_CurEE&&""!=beep_CurEE?$("#idBeepEESelected").val(beep_CurEE):(beep_CurEE=1,$("#idBeepEESelected").val("1")),$("#BeepEUListTab").on("click",function(){beep_cTab=TAB_EU,beep_InstalledEURefresh()}),$("#RepoDUListTab").on("click",function(){beep_cTab=TAB_AVLDU,beep_AvlPkgRefresh(0)}),$("#BeepDUListTab").on("click",function(){beep_cTab=TAB_DU,beep_InstalledDURefresh()}),beep_InstalledDURefresh();var e=localStorage.getItem("repo_serverIP");null!=e&&"null"!=e&&""!=e?document.getElementById("beeDU_serverIP").setAttribute("value",e):document.getElementById("beeDU_serverIP").setAttribute("value","http://brcmext.com/~ajay/beep");var t=localStorage.getItem("repo_serverUser");null!=t&&"null"!=t&&document.getElementById("beeDU_userName").setAttribute("value",t);var l=localStorage.getItem("repo_serverPw");null!=l&&"null"!=l&&document.getElementById("beeDU_password").setAttribute("value",l)})</script><div class=ch-container><div class=row><div class="col-lg-8 col-md-8 col-sm-8 col-xs-8"id=content style=min-width:200px><div class=box><div class=box-inner><div class="box-header well"><h2 id=boxTitle>Verion: 5.0</h2></div><div class="box-content row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><ul class="nav nav-tabs"id=BeepPkgManagement><li class=active><a href=#BeepDUInstalled data-toggle=tab id=BeepDUListTab><span style=font-size:120%;color:#000>DU</span></a><li><a href=#BeepEUInstalled data-toggle=tab id=BeepEUListTab><span style=font-size:120%;color:#000>EU</span></a><li><a href=#BeepDUAvailable data-toggle=tab id=RepoDUListTab><span style=font-size:120%;color:#000>Repository</span></a></ul><div class=tab-content id=resContent><div class="fade tab-pane active in"id=BeepDUInstalled><div class="box-content row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><table class="table table-hover"id=table_BeepDUInstalled><tr><th><th>Name<th>Version<th>Info</table></div></div><div class="box-content row"><div class="col-xs-3 col-lg-2 col-md-2 col-sm-2"><span style=font-size:120%;color:#000>Select EE:</span></div><div class="col-xs-3 col-lg-3 col-md-3 col-sm-3"><select id=idBeepEESelected onchange=beep_selectEE() style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"><option value=0>HostEE<option value=1>BEE<option value=2>Docker<option value=3>OpenWRT<option value=4>OSGi<option value=5>ExampleEE<option value=6>ExampleEE2<option value=7>ExampleEE3</select></div><div class="col-xs-3 col-lg-3 col-md-3 col-sm-3 box-icon"><a href=# class="btn btn-success"onclick=beep_InstalledDURefresh() style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"><i class="glyphicon glyphicon-refresh"style=vertical-align:middle;top:0></i>  Refresh</a></div></div></div><div class="fade tab-pane"id=BeepEUInstalled><div class="box-content row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><table class="table table-hover"id=table_BeepEUInstalled><tr><th><th>Name<th>Version</table></div></div><div class="col-xs-3 col-lg-3 col-md-3 col-sm-3 box-icon"><a href=# class="btn btn-success"onclick=beep_InstalledEURefresh() style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"><i class="glyphicon glyphicon-refresh"style=vertical-align:middle;top:0></i>  Refresh</a></div></div><div class="fade tab-pane"id=BeepDUAvailable><div class="box-content row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><table class="table table-hover"id=table_BeepDUAvailable><tr><th><th>Name<th>Version<th>Info</table></div></div><div class="col-xs-3 col-lg-3 col-md-3 col-sm-3"id=content><form role=form><div class=form-group style=width:150px><input class=form-control id=beeDU_serverIP placeholder="Enter server IP"style=width:150px;height:28px></div></form></div><div class="col-xs-3 col-lg-3 col-md-3 col-sm-3"id=content><form role=form><div class=form-group style="padding:0 16px;width:130px"><input class=form-control id=beeDU_userName placeholder="Enter user name"style=width:130px;height:28px></div></form></div><div class="col-xs-3 col-lg-3 col-md-3 col-sm-3"id=content><form role=form><div class=form-group style="padding:0 16px;width:120px"><input class=form-control id=beeDU_password placeholder="Enter password"style=width:120px;height:28px></div></form></div><div class="col-xs-3 col-lg-3 col-md-3 col-sm-3 box-icon"><a href=# class="btn btn-success"onclick=beep_AvlPkgRefresh(1) style="width:120px;padding:2px 0;vertical-align:middle;text-align:center;margin-top:0;height:25px"><i class="glyphicon glyphicon-refresh"style=vertical-align:middle;top:0></i>  Refresh</a></div></div></div></div></div></div></div></div><div class="col-md-4 col-sm-4 col-xs-4col-lg-4"style=min-width:160px><div class=tab-content><div class=box-content><div class="panel-group root-panel"id=node_beepEU></div></div></div></div></div><div class="fade modal"id=EUMethodCallcfmModal style=z-index:1050 aria-hidden=true aria-labelledby=EUMethodCallcfmModalLabel data-backdrop=static role=dialog tabindex=-1><div class=modal-dialog><div class=modal-content><div class=modal-header><h3 id=cfmHeader></h3></div><div class=modal-body id=cfmBody></div><div class=modal-footer><a href=# class="btn btn-success btn-modal-left"data-dismiss=modal>Cancel</a><a href=# class="btn btn-modal-right btn-primary"onclick=beepEU_runMethodApply()>Confirm</a></div></div></div></div></div>
